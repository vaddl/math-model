<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Математичне моделювання систем та процесів</title>
  <link 
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-ENjdO4Dr2bkBIFxQpe0nFd5YWhYfJ3zto27EiAT6z5SWNh1mCgo/vcC2Fq38iEqn"
    crossorigin="anonymous"
  >
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    .wrapper {
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 0;
      background: #24C6DC; 
      background: -webkit-linear-gradient(to bottom, #514A9D, #24C6DC);  
      background: linear-gradient(to bottom, #514A9D, #24C6DC); 
    }
    .box div {
      position: absolute;
      width: 60px;
      height: 60px;
      background-color: transparent;
      border: 6px solid rgba(255,255,255,0.8);
    }
    .box div:nth-child(1) {
      top: 12%;
      left: 42%;
      animation: animate 10s linear infinite;
    }
    .box div:nth-child(2) {
      top: 70%;
      left: 50%;
      animation: animate 7s linear infinite;
    }
    .box div:nth-child(3) {
      top: 17%;
      left: 6%;
      animation: animate 9s linear infinite;
    }
    .box div:nth-child(4) {
      top: 20%;
      left: 60%;
      animation: animate 10s linear infinite;
    }
    .box div:nth-child(5) {
      top: 67%;
      left: 10%;
      animation: animate 6s linear infinite;
    }
    .box div:nth-child(6) {
      top: 80%;
      left: 70%;
      animation: animate 12s linear infinite;
    }
    .box div:nth-child(7) {
      top: 60%;
      left: 80%;
      animation: animate 15s linear infinite;
    }
    .box div:nth-child(8) {
      top: 32%;
      left: 25%;
      animation: animate 16s linear infinite;
    }
    .box div:nth-child(9) {
      top: 90%;
      left: 25%;
      animation: animate 9s linear infinite;
    }
    .box div:nth-child(10) {
      top: 20%;
      left: 80%;
      animation: animate 5s linear infinite;
    }
    @keyframes animate {
      0% {
        transform: scale(0) translateY(-90px) rotate(360deg);
        opacity: 1;
      }
      100% {
        transform: scale(1.3) translateY(-90px) rotate(-180deg);
        border-radius: 50%;
        opacity: 0;
      }
    }
    .main-content {
      position: relative;
      z-index: 1;
      min-height: 100vh;
    }
    header {
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 10px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    nav {
      width: 80%;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    nav h2 {
      margin: 0;
      font-size: 1.5rem;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 1rem;
      margin: 0;
      padding: 0;
    }
    nav li {
      display: inline;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .hero {
      min-height: 400px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: #fff;
      background: rgba(0, 0, 0, 0.5);
      padding: 2rem 0;
      margin-bottom: 2rem;
    }
    .hero h1 {
      font-size: 3rem;
      margin-bottom: 10px;
    }
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 20px;
    }
    .hero a {
      display: inline-block;
      background: #ff9900;
      color: #fff;
      padding: 10px 20px;
      text-decoration: none;
      font-weight: bold;
      border-radius: 5px;
    }
    .hero a:hover {
      background: #e88c00;
    }
    .content-wrapper {
      width: 80%;
      margin: 0 auto 2rem auto;
      background: rgba(255, 255, 255, 0.9);
      padding: 2rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      border-radius: 5px;
      color: #000;
    }
    .table-bordered > :not(caption) > * > * {
      border-width: 2px !important;
    }
    .chart-container {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
    }
    canvas {
      height: 400px !important;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="wrapper">
    <div class="box">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
  <div class="main-content">
    <header>
      <nav>
        <div>
          <h2>Моделювання</h2>
        </div>
        <ul>
          <li><a href="#">Головна</a></li>
          <li><a href="#">Про нас</a></li>
          <li><a href="#">Контакти</a></li>
          <li><a href="#">Додатково</a></li>
        </ul>
      </nav>
    </header>
    <section class="hero">
      <h1>Ласкаво просимо до платформи!</h1>
      <p>Навчайтеся математичному моделюванню систем та процесів онлайн</p>
      <a href="#">Почати навчання</a>
    </section>
    <div class="content-wrapper">
      <h2>Про платформу</h2>
      <p>
        Ця платформа була створена, щоб допомогти студентам, інженерам та дослідникам 
        опанувати основи та деталі математичного моделювання різноманітних систем і процесів. 
        Ви дізнаєтесь про методи, інструменти і практичні підходи до розв’язання реальних задач.
      </p>
      <h3>Відео з коротким оглядом</h3>
      <iframe 
        src="https://www.youtube.com/embed/LSJ6jKqGBvI"
        title="YouTube video"
        allowfullscreen
        style="width: 100%; height: 315px; border: none;"
      ></iframe>
      <div class="mt-4">
        <h3>Проста інтерактивна демонстрація</h3>
        <p>Введіть число <code>x</code>, щоб побачити результат обчислення <code>y = x^2</code> та графік:</p>
        <form id="calcForm" class="my-3">
          <div class="input-group mb-3">
            <input 
              type="number"
              class="form-control"
              id="inputX" 
              name="x" 
              step="any"
              placeholder="Введіть число" 
              aria-label="Введіть число x" 
              required
            >
            <button type="submit" class="btn btn-primary">Обчислити</button>
          </div>
        </form>
        <div id="result" class="fw-bold mb-3"></div>
        <div class="chart-container mb-3">
          <canvas id="myChart"></canvas>
        </div>
        <div>
          <table class="table table-bordered table-striped text-center" id="resultsTable">
            <tbody>
              <tr>
                <th scope="row">X</th>
                <td id="xRow"></td>
              </tr>
              <tr>
                <th scope="row">Y</th>
                <td id="yRow"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <script>
    let chartData = {
      labels: [],
      datasets: [{
        label: 'y = x^2',
        data: [],
        borderColor: 'rgba(255, 99, 132, 1)',
        fill: false,
        tension: 0.1
      }]
    };
    const ctx = document.getElementById('myChart').getContext('2d');
    const myChart = new Chart(ctx, {
      type: 'line',
      data: chartData,
      options: {
        responsive: true,
        scales: {
          x: {
            title: {
              display: true,
              text: 'x'
            }
          },
          y: {
            title: {
              display: true,
              text: 'y'
            }
          }
        }
      }
    });
    const form = document.getElementById('calcForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const xValue = document.getElementById('inputX').value;
      const resultDiv = document.getElementById('result');
      try {
        const response = await fetch('/api/calculate/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken')
          },
          body: JSON.stringify({ x: xValue })
        });
        if (!response.ok) {
          throw new Error(`Помилка на боці сервера: ${response.status}`);
        }
        const data = await response.json();
        resultDiv.innerHTML = `Для x = ${data.x}, y = ${data.y}.`;
        chartData.labels.push(data.x);
        chartData.datasets[0].data.push(data.y);
        myChart.update();
        document.getElementById('xRow').innerHTML += data.x + ' ';
        document.getElementById('yRow').innerHTML += data.y + ' ';
        document.getElementById('inputX').value = '';
      } catch (error) {
        resultDiv.innerHTML = `Сталася помилка: ${error.message}`;
      }
    });
    function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].trim();
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }
  </script>
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+1uX05bZl1BXgk6V0GKpF7h4wBTbd"
    crossorigin="anonymous">
  </script>
</body>
</html>
